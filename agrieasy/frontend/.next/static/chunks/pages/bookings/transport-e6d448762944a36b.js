(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[270],{6669:function(e,t,a){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bookings/transport",function(){return a(2800)}])},2800:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return o}});var l=a(5893),n=a(7294),s=a(8937),r=a(3700);function o(){let{token:e,user:t}=(0,r.a)(),[a,o]=(0,n.useState)([]),[u,i]=(0,n.useState)(""),[c,d]=(0,n.useState)(""),[h,m]=(0,n.useState)(""),[p,b]=(0,n.useState)(""),[g,f]=(0,n.useState)("");(0,n.useEffect)(()=>{(0,s.h)("/vehicles").then(o).catch(()=>o([]))},[]);let x=async()=>e?(null==t?void 0:t.role)!=="FARMER"?alert("Farmer role required"):void(await (0,s.h)("/transport-bookings",{method:"POST",body:JSON.stringify({vehicleId:u,source:c,destination:h,pickupTime:p,dropTime:g})},e),alert("Transport booking requested")):alert("Login required");return(0,l.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[(0,l.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Book Transport"}),(0,l.jsxs)("select",{className:"border p-2 w-full mb-3",value:u,onChange:e=>i(e.target.value),children:[(0,l.jsx)("option",{value:"",children:"Select Vehicle"}),a.map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.vehicleType," (",e.capacityKg,"kg)"]},e.id))]}),(0,l.jsx)("input",{className:"border p-2 w-full mb-3",placeholder:"Source",value:c,onChange:e=>d(e.target.value)}),(0,l.jsx)("input",{className:"border p-2 w-full mb-3",placeholder:"Destination",value:h,onChange:e=>m(e.target.value)}),(0,l.jsx)("label",{className:"block text-sm mb-1",children:"Pickup Time"}),(0,l.jsx)("input",{type:"datetime-local",className:"border p-2 w-full mb-3",value:p,onChange:e=>b(e.target.value)}),(0,l.jsx)("label",{className:"block text-sm mb-1",children:"Drop Time"}),(0,l.jsx)("input",{type:"datetime-local",className:"border p-2 w-full mb-3",value:g,onChange:e=>f(e.target.value)}),(0,l.jsx)("button",{onClick:x,className:"bg-agrigreen text-white px-4 py-2 rounded w-full",children:"Book"})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6669)}),_N_E=e.O()}]);