(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[268],{6530:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/bookings/equipment",function(){return n(3135)}])},3135:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return u}});var a=n(5893),l=n(7294),i=n(8937),s=n(3700);function u(){let{token:e,user:t}=(0,s.a)(),[n,u]=(0,l.useState)([]),[o,r]=(0,l.useState)(""),[c,d]=(0,l.useState)(""),[m,h]=(0,l.useState)("");(0,l.useEffect)(()=>{(0,i.h)("/equipment").then(u).catch(()=>u([]))},[]);let b=async()=>e?(null==t?void 0:t.role)!=="FARMER"?alert("Farmer role required"):void(await (0,i.h)("/equipment-bookings",{method:"POST",body:JSON.stringify({equipmentId:o,startTime:c,endTime:m})},e),alert("Equipment booking requested")):alert("Login required");return(0,a.jsxs)("div",{className:"max-w-md mx-auto bg-white p-6 rounded shadow",children:[(0,a.jsx)("h1",{className:"text-xl font-semibold mb-4",children:"Book Equipment"}),(0,a.jsxs)("select",{className:"border p-2 w-full mb-3",value:o,onChange:e=>r(e.target.value),children:[(0,a.jsx)("option",{value:"",children:"Select Equipment"}),n.map(e=>(0,a.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,a.jsx)("label",{className:"block text-sm mb-1",children:"Start Time"}),(0,a.jsx)("input",{type:"datetime-local",className:"border p-2 w-full mb-3",value:c,onChange:e=>d(e.target.value)}),(0,a.jsx)("label",{className:"block text-sm mb-1",children:"End Time"}),(0,a.jsx)("input",{type:"datetime-local",className:"border p-2 w-full mb-3",value:m,onChange:e=>h(e.target.value)}),(0,a.jsx)("button",{onClick:b,className:"bg-agrigreen text-white px-4 py-2 rounded w-full",children:"Book"})]})}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6530)}),_N_E=e.O()}]);