(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[867],{9112:function(s,e,i){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/analytics",function(){return i(3640)}])},3640:function(s,e,i){"use strict";i.r(e),i.d(e,{default:function(){return b}});var d=i(5893),l=i(7294),a=i(3700),n=i(8937),c=i(1261),t=i(7521),r=i(3584),h=i(4489),o=i(6189),x=i(6617),m=i(7017),u=i(5615),j=i(8793),N=i(8555);function b(){let{token:s,user:e}=(0,a.a)(),[i,b]=(0,l.useState)(null);if((0,l.useEffect)(()=>{s&&(null==e?void 0:e.role)==="ADMIN"&&(0,n.h)("/admin/analytics",{},s).then(b).catch(()=>b(null))},[s,e]),!s)return(0,d.jsx)("div",{children:"Please login."});if((null==e?void 0:e.role)!=="ADMIN")return(0,d.jsx)("div",{children:"Admin only."});if(!i)return(0,d.jsx)("div",{children:"Loading..."});let w=["#0088FE","#00C49F","#FFBB28","#FF8042"];return(0,d.jsxs)("div",{children:[(0,d.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Admin Analytics"}),(0,d.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold",children:"Users"}),(0,d.jsx)("p",{className:"text-2xl",children:i.users})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold",children:"Orders"}),(0,d.jsx)("p",{className:"text-2xl",children:i.orders})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold",children:"Bookings"}),(0,d.jsx)("p",{className:"text-2xl",children:i.bookings})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold",children:"Reviews"}),(0,d.jsx)("p",{className:"text-2xl",children:i.reviews})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold",children:"Payments"}),(0,d.jsx)("p",{className:"text-2xl",children:i.payments})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold",children:"Notifications"}),(0,d.jsx)("p",{className:"text-2xl",children:i.notifications})]})]}),(0,d.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold mb-4",children:"User Roles"}),(0,d.jsx)(c.h,{width:"100%",height:300,children:(0,d.jsxs)(t.u,{children:[(0,d.jsx)(r.b,{data:i.userRoles,cx:"50%",cy:"50%",outerRadius:80,fill:"#8884d8",dataKey:"count",label:s=>{let{role:e,count:i}=s;return"".concat(e,": ").concat(i)},children:i.userRoles.map((s,e)=>(0,d.jsx)(h.b,{fill:w[e%w.length]},"cell-".concat(e)))}),(0,d.jsx)(o.u,{})]})})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold mb-4",children:"Order Statuses"}),(0,d.jsx)(c.h,{width:"100%",height:300,children:(0,d.jsxs)(x.v,{data:i.orderStatuses,children:[(0,d.jsx)(m.q,{strokeDasharray:"3 3"}),(0,d.jsx)(u.K,{dataKey:"status"}),(0,d.jsx)(j.B,{}),(0,d.jsx)(o.u,{}),(0,d.jsx)(N.$,{dataKey:"count",fill:"#8884d8"})]})})]})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow",children:[(0,d.jsx)("h3",{className:"font-semibold mb-4",children:"Recent Activity"}),(0,d.jsx)("ul",{className:"space-y-2",children:i.recentActivity.map((s,e)=>(0,d.jsxs)("li",{className:"flex justify-between",children:[(0,d.jsx)("span",{children:s.type}),(0,d.jsx)("span",{children:new Date(s.created_at).toLocaleString()})]},e))})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow mt-6",children:[(0,d.jsx)("h3",{className:"font-semibold mb-4",children:"Reviews and Feedback"}),(0,d.jsxs)("p",{children:["Manage reviews and disputes here. (Mock: Total reviews: ",i.reviews,")"]})]}),(0,d.jsxs)("div",{className:"bg-white p-4 rounded shadow mt-6",children:[(0,d.jsx)("h3",{className:"font-semibold mb-4",children:"KYC and Verification"}),(0,d.jsx)("p",{children:"Monitor KYC status. (Mock: All users verified)"})]})]})}}},function(s){s.O(0,[731,888,774,179],function(){return s(s.s=9112)}),_N_E=s.O()}]);